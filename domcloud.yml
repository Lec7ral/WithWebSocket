source: https://github.com/Lec7ral/WithWebSocket.git

features:
  - go

# 1. Usamos el addon. Domcloud se encarga de crear la BD y el usuario.
addons:
  - postgresql

nginx:
  root: public_html/public
  passenger:
    enabled: "on"
    # 2. El comando de inicio es nuestro script inteligente.
    app_start_command: ./start.sh

commands:
  # 3. Solo compilamos la aplicación. No tocamos la base de datos aquí.
  - go mod tidy
  - go build -o collabsphere ./cmd/collabsphere

vars:
  # 4. NO definimos DATABASE_URL aquí. Dejamos que el addon lo haga.
  #    Solo definimos los secretos de nuestra aplicación.
  JWT_SECRET: "DEBES_CAMBIAR_ESTO_EN_EL_PANEL_DE_DOMCLOUD"
  LOG_LEVEL: "info"
